<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>E-Books Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:Arial,sans-serif;
  background:#f4f6f8;
  padding:20px;
  margin:0;
}
h2{text-align:center}

.search-box{
  max-width:400px;
  margin:20px auto;
}
.search-box input{
  width:100%;
  padding:12px;
  font-size:16px;
  border-radius:8px;
  border:1px solid #ccc;
}

.book-list{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:15px;
  margin-top:20px;
}

.book-card{
  background:#fff;
  padding:18px;
  border-radius:10px;
  width:220px;
  text-align:center;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
  cursor:pointer;
  transition:.2s;
}
.book-card:hover{transform:scale(1.05)}

.request-card{
  background:#eef2ff;
  border:2px dashed #6366f1;
}
.request-card small{display:block;margin-top:6px;color:#555}
</style>
</head>
<body>

<h2>Select an E-Book</h2>

<div class="search-box">
  <input type="text" id="search" placeholder="Search for a book..." onkeyup="filterBooks()">
</div>

<div class="book-list" id="bookList">

  <div class="book-card" data-book="Rich Dad Poor Dad" onclick="selectBook(this)">Rich Dad Poor Dad</div>
  <div class="book-card" data-book="48 Laws of Power" onclick="selectBook(this)">48 Laws of Power</div>
  <div class="book-card" data-book="Atomic Habits" onclick="selectBook(this)">Atomic Habits</div>
  <div class="book-card" data-book="Think and Grow Rich" onclick="selectBook(this)">Think and Grow Rich</div>

  <!-- Custom request -->
  <div class="book-card request-card" id="requestCard" onclick="requestBook()" style="display:none;">
    ➕ Request a Custom E-Book
    <small>Didn’t find what you want?</small>
  </div>

</div>

<script>
function selectBook(el){
  const book = el.getAttribute("data-book");
  window.location.href =
    "upload.html?type=ebook&item=" + encodeURIComponent(book);
}

function requestBook(){
  const book = prompt("Enter the name of the book you want:");
  if(book && book.trim().length >= 3){
    window.location.href =
      "upload.html?type=ebook&item=" + encodeURIComponent(book.trim());
  }
}

function filterBooks(){
  const q = document.getElementById("search").value.toLowerCase();
  const books = document.querySelectorAll(".book-card[data-book]");
  let found = false;

  books.forEach(b=>{
    const name = b.dataset.book.toLowerCase();
    if(name.includes(q)){
      b.style.display = "block";
      found = true;
    }else{
      b.style.display = "none";
    }
  });

  document.getElementById("requestCard").style.display =
    found ? "none" : "block";
}
</script>

</body>
    </html>
