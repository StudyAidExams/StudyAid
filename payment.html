<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StudyAid - Proceed to Payment</title>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f9f9f9; }
.container { max-width:600px; margin:30px auto; padding:20px; background:#fff; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1);}
h2 { text-align:center; color:#333; }
p { margin:10px 0; }
button { margin-top:15px; padding:12px 20px; width:100%; background:#4CAF50; color:#fff; border:none; border-radius:5px; cursor:pointer; font-size:16px; }
button:hover { background:#45a049; }
.order-preview, .bank-details { padding:15px; margin-top:20px; border-radius:5px; background:#f1f1f1; }
.bank-details { display:none; border:1px solid #2196F3; background:#e3f2fd; }
</style>
</head>
<body>

<div class="container">
<h2>Order Preview</h2>

<div class="order-preview" id="orderPreview">
  <p id="previewText"></p>
  <button id="continueBtn">Continue</button>
</div>

<div class="bank-details" id="bankDetails">
  <h3>Bank Payment Details</h3>
  <p>Bank Name: OPay<br>
     Account Name: Michael Obaro<br>
     Account Number: 6142529254<br>
     Reference: <span id="orderIDBank"></span><br>
     Amount: ₦<span id="orderTotalBank"></span>
  </p>
  <button id="paidBtn">I’ve Paid</button>
</div>

</div>

<script>
// Get order details from URL
const urlParams = new URLSearchParams(window.location.search);
const orderID = urlParams.get('orderID') || 'N/A';
const service = urlParams.get('service') || 'N/A';
const name = urlParams.get('name') || 'N/A';
const email = urlParams.get('email') || 'N/A';
const whatsapp = urlParams.get('whatsapp') || 'N/A';
const urgency = urlParams.get('urgency') || 'Normal';
const total = urlParams.get('total') || '0';

// Display preview
document.getElementById('previewText').innerText = `
Order ID: ${orderID}
Service: ${service}
Delivery: ${urgency}
Total: ₦${total}
Name: ${name}
Email: ${email}
WhatsApp: ${whatsapp}
`;

// Show bank details on Continue
document.getElementById('continueBtn').addEventListener('click', () => {
  document.getElementById('bankDetails').style.display = 'block';
  document.getElementById('bankDetails').scrollIntoView({behavior: "smooth"});
  document.getElementById('orderIDBank').innerText = orderID;
  document.getElementById('orderTotalBank').innerText = total;
});

// WhatsApp redirect on I’ve Paid
document.getElementById('paidBtn').addEventListener('click', () => {
  const waMessage = `Hello Michael, I have paid for my order.
Order ID: ${orderID}
Service: ${service}
Delivery: ${urgency}
Total: ₦${total}
My Name: ${name}
Email: ${email}
WhatsApp: ${whatsapp}`;
  
  const waLink = `https://wa.me/2349091156097?text=` + encodeURIComponent(waMessage);
  window.open(waLink, "_blank");
});
</script>

</body>
</html>
